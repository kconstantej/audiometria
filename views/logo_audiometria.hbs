<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Logo audiometria</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
         <link rel="stylesheet" href="assets/css/style.css" />
         <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <script type="text/javascript" src="assets/js/funciones.js"></script>
       <script type="text/javascript" src="assets/js/llamadaJson.js"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/modules/data.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        <script src="https://code.highcharts.com/modules/export-data.js"></script>
        <script src="https://code.highcharts.com/modules/sonification.js"></script>
        <script src="https://code.highcharts.com/modules/accessibility.js"></script>
        <script src="assets/js/sweetalert2.all.min.js"></script>
        <!-- Optional: include a polyfill for ES6 Promises for IE11 -->
        {{!-- <script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script> --}}
         <script src="assets/js/sweetalert2.min.js"></script>
        <link rel="stylesheet" href="assets/css/sweetalert2.min.css">  

    </head>
    <body>

              <nav class="navbar navbar-light bg-light" style="color: rgb(56, 66, 109);">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                     <img src="assets/img/logo_iniciales.png" alt="" width="120px" height="110px" class="d-inline-block align-top">
                  

                </a>
                <h1>
                    DBM Audiometro Digital
                </h1>
                <button  class="btn btn-sm btn-outline-secondary" type="button" style="visibility: collapse;"><a href="inicio">INICIO</a></button>
               
                
            </div>
            
        </nav>

        <br>
        <br>

          <nav class="navbar navbar-israel bg-israel" style="background-color: #04307c;" >
            <div class="container-fluid" >
                     <a class="navbar-brand"  style="color: white;" >
                    
                    Seleccione oido de prueba
                    
                </a>
                
            </div>
        </nav>
     
        <div class="row justify-content-md-center">
            <div class="col-6" style="text-align: end;">
                <br>
                <br>
           <button type="button" style="background-color: #df1130;"  onclick="clickOido('derecho')">
                  <b style="color: black;"> <i> Derecho </i></b>
                    <img src="assets/img/oido_izquierdo.png"> 

                </button>

             </div>
      
                <div class="col-6" style="text-align: left;">    
                    <br>
                    <br>
                  <button type="button" style="background-color: rgb(9, 111, 245);" onclick="clickOido('izquierdo')">
                       <b style="color: rgba(53, 47, 47, 0.945);"><i> Izquierdo </i> </b> 
                        <img src="assets/img/oido_derecho.png"> 
                       
                    </button>


                 </div>        
        </div>

        <br>
        <br> 

   <nav class="navbar navbar-israel bg-israel" style="background-color: #04307c;" >
            <div class="container-fluid" >
                     <a class="navbar-brand"  style="color: white;" >
                    
                    
                </a>
                
            </div>
        </nav>

     
<br> 


       <div class="container">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                    <div class="card">
                        <div class="card-header">
                            <legend class="text-center header">Decibeles (dB)</legend>
                        </div>
                        <div class="card-body">
                            <div class="row justify-content-md-center">
                                <div class="col-12">
                                    <div class="well well-sm">
                                            
                                                <div class="form-group">
                                                   
                                                    <div class="col-md-12" style="text-align: center;">
                                                        <button onclick="decibeles('val',1)" style="width: 30px;">+</button>
                                                        
                                                    </div>
                                                       
                                                     
                                                </div>
                                                <br>

                                                <div class="form-group">
                                                    <div class="col-md-12">
                                                        <input id="val" class="w3-input w3-border w3-animate-input" type="text" style="text-align: center; width: 100%;" value="0" readonly="readonly">
                                                    </div>
                                                </div>
                                                <br>
                                                <div class="form-group">
                                                    <div class="col-md-12" style="text-align: center;">
                                                            <button onclick="decibeles('val',0)" style="width:30px;">-</button>
                                                   </div>
                                                </div>

                                                
                                                
                                            
                                        
                                    </div>
                                </div>
        
                            </div>
                        </div>
                        
                    </div>
                    <br><br><br>
                    <div  class="form-group" style="text-align: center;">   

                        <div class="col-md-12"> 
                            
                            <select id="palabras" class=class="form-select form-select-lg mb-3" style="height: 50px; background-color: #e3e5e6; color: #04307c;">
                                <option value="no">Seleccione una palabra</option>
                                {{#each palabras}}
                                    <option value="{{pal}}">{{pal}}</option>
                                {{/each}}
                            </select>

                        </div>
                        <br>
                                                    

                    </div>    
                </div>
                

                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                    <div class="card">
                        
                        <div class="card-body">
                            <div class="row justify-content-md-center">
                                <div class="col-12">
                                    <div class="well well-sm">
                                        
                                            

                                                <div class="form-group">
                                                    <div class="col-md-12">
                                                        
                                                        
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-12">
                                                        <figure class="highcharts-figure">
                                                            <div id="container"></div>
                                                                <p class="highcharts-description">
     
                                                                </p>
                                                        </figure>                                                        
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <div class="col-md-12">          
                                                    </div>
                                                </div>

                                                
                                                
                                            
                                    </div>
                                </div>
        
                            </div>
                        </div>
                    </div>
                </div>


                <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                    <div class="card">
                        <div class="card-header">
                            <legend class="text-center header">Hertz (Hz)</legend>
                        </div>
                        <div class="card-body">
                            <div class="row justify-content-md-center">
                                <div class="col-12">
                                    <div class="well well-sm">
                                        
                                            

                                                <div class="form-group">
                                                    <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-user bigicon"></i></span>
                                                    <div class="col-md-12" style="text-align: center;">
                                                        
                                                        <button onclick="heartz('hz',1)" style="width:30px;">+</button>
                                                    </div>
                                                </div>
                                                <br>
                                                <div class="form-group">
                                                    <div class="col-md-12">
                                                        <input id="hz" class="w3-input w3-border w3-animate-input" type="text" style="text-align: center; width: 100%;" value="125" readonly="readonly">
                                                    </div>
                                                </div>
                                                <br>
                                                <div class="form-group" style="text-align: center;">
                                                    <div class="col-md-12">
                                                
                                                        <button onclick="heartz('hz',0)" style="width:30px;">-</button>
    

                                                    </div>
                                                </div>


                                                
                                    </div>
                                </div>
        
                            </div>
                        </div>
                        
                    </div>
                    <br>
                    <br>
                    <br>
                   
                   
                    <div  class="form-group" style="text-align: center;">   

                        <div class="col-md-12"> 
                            <button  type="button" class="btn btn-success" onclick="enviarDatos()" style="background-color:  #04307c; height:50px; width:130px" >Reproducir</button>

                        </div>
                                                    

                    </div>                            
                                            
                </div> 
                

                        
            </div>
        </div>
 

<div>

</div>

<br>
   <nav class="navbar navbar-israel bg-israel" style="background-color: #04307c;" >
            <div class="container-fluid" >
                     <a class="navbar-brand"  style="color: white;" >
                    
                    
                </a>
                
            </div>
        </nav>



<div style="text-align: center;">

  
    <br>
    <form class="form-horizontal" action="/pdf" method="post">
   <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="container">
                    <div class="row justify-content-md-center">
                        <div class="col-12" style="text-align: center;">
                            <h5>
                                DIAGNOSTICO OD: 
                            </h5>
                        </div>
                        
                           <textarea class="form-control" id="exampleFormControlTextarea1" name="odd" rows="3"  style="height: 150px; margin-left: 2%;"></textarea> 
                    
                    </div>
                </div>
               
               
                
                
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="container">
                    <div class="row justify-content-md-center">
                        <div class="col-12" style="text-align: center;">
                            <h5>
                                DIAGNOSTICO OI: 
                            </h5>
                        </div>
                        
                           <textarea class="form-control" id="exampleFormControlTextarea1" name="odi" rows="3"  style="height: 150px; margin-left: 2%;"></textarea> 
                    
                    </div>
                </div>
            
            </div>
           
        </div>
    </div>
    <br>
  
    <br>
     <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="container">
                    <div class="row justify-content-md-center">
                        <div class="col-12" style="text-align: center;">
                            <h5>
                                OTOSCOPIA: 
                            </h5>
                        </div>
                        
                           <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="otoscopia"  style="height: 150px; margin-left: 2%;"></textarea> 
                    
                    </div>
                </div>
               
               
                
                
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="container">
                    <div class="row justify-content-md-center">
                        <div class="col-12" style="text-align: center;">
                            <h5>
                                RECOMENDACIONES: 
                            </h5>
                        </div>
                        
                           <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="recomendaciones" style="height: 150px; margin-left: 2%;"></textarea> 
                    
                    </div>
                </div>
            
            </div>
           
        </div>
    </div>
    <br><br>


    <button id="nueva_consulta" class="btn btn-success" type="submit" style="background-color: #04307c; color:white" >
         Exportar
        <img src="assets/img/logo-pdf.png" alt="Reporte PDF" width="100px" height="70px" style="color: white;">
                        
    </button>
</form>



</div>
        




<style type="text/css">
.highcharts-figure, .highcharts-data-table table {
    min-width: 310px; 
    max-width: 800px;
    margin: 1em auto;
}

.highcharts-data-table table {
	font-family: Verdana, sans-serif;
	border-collapse: collapse;
	border: 1px solid #EBEBEB;
	margin: 10px auto;
	text-align: center;
	width: 100%;
	max-width: 500px;
}
.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: rgb(0, 0, 0);
}
.highcharts-data-table th {
	font-weight: 600;
    padding: 0.5em;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
    padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}
.highcharts-data-table tr:hover {
    background: #f1f7ff;
}



</style>


<script type="text/javascript">

var value;

function guardarLocalStorage(){

    let valor = parseInt( localStorage.getItem('value') ); 

    valor = valor+1
    
    localStorage.setItem('value',valor)
    localStorage.setItem('id',2)
    return valor;

}



var datosJson;


var peticion = obtenerXHR();
renderizar();
var o;
function obtenerXHR () {
    req = false;
    if (window.XMLHttpRequest){
      req = new XMLHttpRequest();
    }
    return req;
  }
  
function renderizar(){
    //configutando la peticion
    peticion.open("GET", "assets/services/data.json", true);
    //relacionando la peticion onreadystatechange
    peticion.onreadystatechange = procesarPeticion;
    //enviando la peticion
    peticion.send(null);
  }

function procesarPeticion() {

    if (peticion.readyState == 4){
        if(peticion.status == 200) {
           // console.log("casa")
            //this.o= JSON.parse(peticion.responseText);
         //   console.log(this.o.oido_derecho);
        }
    }



value = guardarLocalStorage();



if (value == 0){
// Data retrieved from http://vikjavev.no/ver/index.php?spenn=2d&sluttid=16.06.2015.


Highcharts.chart('container', {
    chart: {
        type: 'spline',
        inverted: true
    },
    title: {
        text: 'Gráfica de resultados Audiometría'
    },
    subtitle: {
        text: 'Oído Derecho (Right)  - Oído Izquierdo (Left)'
    },
    xAxis: {
        lineWidth: 2,
        reversed: false,
        title: {
            enabled: true,
            text: ' Decibeles (dB)'
        },
        labels: {
            format: '{value} dB'
        },
        accessibility: {
            rangeDescription: 'Range: 0 to 130 dB.'
        },
        maxPadding: 0.05,
        showLastLabel: true
    },
    yAxis: {
        title: {
            text: 'Hertz (Hz)'
        },
        labels: {
            format: '{value}Hz'
        },
        accessibility: {
            rangeDescription: 'Range: 8k to 125 Hz.'
        },
        lineWidth: 2
    },
    legend: {
        enabled: false
    },
    tooltip: {
        headerFormat: '<b>{series.name}</b><br/>',
        pointFormat: '{point.x} dB: {point.y}Hz'
    },
    plotOptions: {
        spline: {
            marker: {
                enable: false
            }
        }
    },
    series: [{
        name: 'Oído Derecho (Hz)',
        color: '#df1130',
        data: []
    },
    {
    name: 'Oído Izquierdo (Hz)',
    color: 'rgb(9, 111, 245)',
        data: []
    }]
});
}

if (value == 4){
// Data retrieved from http://vikjavev.no/ver/index.php?spenn=2d&sluttid=16.06.2015.
alert('Espera de respuesta ....');
Highcharts.chart('container', {
    chart: {
        type: 'spline',
        inverted: true
    },
    title: {
        text: 'Gráfica de resultados Audiometría'
    },
    subtitle: {
        text: 'Oído Derecho (Right)  - Oído Izquierdo (Left)'
    },
    xAxis: {
        lineWidth: 2,
        reversed: false,
        title: {
            enabled: true,
            text: ' Decibeles (dB)'
        },
        labels: {
            format: '{value} dB'
        },
        accessibility: {
            rangeDescription: 'Range: 0 to 130 dB.'
        },
        maxPadding: 0.05,
        showLastLabel: true
    },
    yAxis: {
        title: {
            text: 'Hertz (Hz)'
        },
        labels: {
            format: '{value}Hz'
        },
        accessibility: {
            rangeDescription: 'Range: 8k to 125 Hz.'
        },
        lineWidth: 2
    },
    legend: {
        enabled: false
    },
    tooltip: {
        headerFormat: '<b>{series.name}</b><br/>',
        pointFormat: '{point.x} dB: {point.y}Hz'
    },
    plotOptions: {
        spline: {
            marker: {
                enable: false
            }
        }
    },
    series: [{
        name: 'Oído Derecho (Hz)',
        color: '#df1130',
        data: []
    },
    {
    name: 'Oído Izquierdo (Hz)',
    color: 'rgb(9, 111, 245)',
        data: []
    }]
});
}


if (value == 8){
// Data retrieved from http://vikjavev.no/ver/index.php?spenn=2d&sluttid=16.06.2015.
alert('Espera de respuesta ....');
Highcharts.chart('container', {
    chart: {
        type: 'spline',
        inverted: true
    },
    title: {
        text: 'Gráfica de resultados Audiometría'
    },
    subtitle: {
        text: 'Oído Derecho (Right)  - Oído Izquierdo (Left)'
    },
    xAxis: {
        lineWidth: 2,
        reversed: false,
        title: {
            enabled: true,
            text: ' Decibeles (dB)'
        },
        labels: {
            format: '{value} dB'
        },
        accessibility: {
            rangeDescription: 'Range: 0 to 130 dB.'
        },
        maxPadding: 0.05,
        showLastLabel: true
    },
    yAxis: {
        title: {
            text: 'Hertz (Hz)'
        },
        labels: {
            format: '{value}Hz'
        },
        accessibility: {
            rangeDescription: 'Range: 8k to 125 Hz.'
        },
        lineWidth: 2
    },
    legend: {
        enabled: false
    },
    tooltip: {
        headerFormat: '<b>{series.name}</b><br/>',
        pointFormat: '{point.x} dB: {point.y}Hz'
    },
    plotOptions: {
        spline: {
            marker: {
                enable: false
            }
        }
    },
    series: [{
        name: 'Oído Derecho (Hz)',
        color: '#df1130',
        data: [[30,125]]
    },
    {
    name: 'Oído Izquierdo (Hz)',
    color: 'rgb(9, 111, 245)',
        data: []
    }]
});
}


if (value == 12){
// Data retrieved from http://vikjavev.no/ver/index.php?spenn=2d&sluttid=16.06.2015.
alert('Espera de respuesta ....');
Highcharts.chart('container', {
    chart: {
        type: 'spline',
        inverted: true
    },
    title: {
        text: 'Gráfica de resultados Audiometría'
    },
    subtitle: {
        text: 'Oído Derecho (Right)  - Oído Izquierdo (Left)'
    },
    xAxis: {
        lineWidth: 2,
        reversed: false,
        title: {
            enabled: true,
            text: ' Decibeles (dB)'
        },
        labels: {
            format: '{value} dB'
        },
        accessibility: {
            rangeDescription: 'Range: 0 to 130 dB.'
        },
        maxPadding: 0.05,
        showLastLabel: true
    },
    yAxis: {
        title: {
            text: 'Hertz (Hz)'
        },
        labels: {
            format: '{value}Hz'
        },
        accessibility: {
            rangeDescription: 'Range: 8k to 125 Hz.'
        },
        lineWidth: 2
    },
    legend: {
        enabled: false
    },
    tooltip: {
        headerFormat: '<b>{series.name}</b><br/>',
        pointFormat: '{point.x} dB: {point.y}Hz'
    },
    plotOptions: {
        spline: {
            marker: {
                enable: false
            }
        }
    },
    series: [{
        name: 'Oído Derecho (Hz)',
        color: '#df1130',
        data: [[30,125], [40, 250]]
    },
    {
    name: 'Oído Izquierdo (Hz)',
    color: 'rgb(9, 111, 245)',
        data: []
    }]
});
}


if (value == 16){
// Data retrieved from http://vikjavev.no/ver/index.php?spenn=2d&sluttid=16.06.2015.
alert('Espera de respuesta ....');
Highcharts.chart('container', {
    chart: {
        type: 'spline',
        inverted: true
    },
    title: {
        text: 'Gráfica de resultados Audiometría'
    },
    subtitle: {
        text: 'Oído Derecho (Right)  - Oído Izquierdo (Left)'
    },
    xAxis: {
        lineWidth: 2,
        reversed: false,
        title: {
            enabled: true,
            text: ' Decibeles (dB)'
        },
        labels: {
            format: '{value} dB'
        },
        accessibility: {
            rangeDescription: 'Range: 0 to 130 dB.'
        },
        maxPadding: 0.05,
        showLastLabel: true
    },
    yAxis: {
        title: {
            text: 'Hertz (Hz)'
        },
        labels: {
            format: '{value}Hz'
        },
        accessibility: {
            rangeDescription: 'Range: 8k to 125 Hz.'
        },
        lineWidth: 2
    },
    legend: {
        enabled: false
    },
    tooltip: {
        headerFormat: '<b>{series.name}</b><br/>',
        pointFormat: '{point.x} dB: {point.y}Hz'
    },
    plotOptions: {
        spline: {
            marker: {
                enable: false
            }
        }
    },
    series: [{
        name: 'Oído Derecho (Hz)',
        color: '#df1130',
        data: [[30,125], [40, 250]]
    },
    {
    name: 'Oído Izquierdo (Hz)',
    color: 'rgb(9, 111, 245)',
        data: [[10,125]]
    }]
});
}



if (value == 20){
// Data retrieved from http://vikjavev.no/ver/index.php?spenn=2d&sluttid=16.06.2015.
alert('Espera de respuesta ....');
Highcharts.chart('container', {
    chart: {
        type: 'spline',
        inverted: true
    },
    title: {
        text: 'Gráfica de resultados Audiometría'
    },
    subtitle: {
        text: 'Oído Derecho (Right)  - Oído Izquierdo (Left)'
    },
    xAxis: {
        lineWidth: 2,
        reversed: false,
        title: {
            enabled: true,
            text: ' Decibeles (dB)'
        },
        labels: {
            format: '{value} dB'
        },
        accessibility: {
            rangeDescription: 'Range: 0 to 130 dB.'
        },
        maxPadding: 0.05,
        showLastLabel: true
    },
    yAxis: {
        title: {
            text: 'Hertz (Hz)'
        },
        labels: {
            format: '{value}Hz'
        },
        accessibility: {
            rangeDescription: 'Range: 8k to 125 Hz.'
        },
        lineWidth: 2
    },
    legend: {
        enabled: false
    },
    tooltip: {
        headerFormat: '<b>{series.name}</b><br/>',
        pointFormat: '{point.x} dB: {point.y}Hz'
    },
    plotOptions: {
        spline: {
            marker: {
                enable: false
            }
        }
    },
    series: [{
        name: 'Oído Derecho (Hz)',
        color: '#df1130',
        data: [[30,125], [40, 250], [50,500]]
    },
    {
    name: 'Oído Izquierdo (Hz)',
    color: 'rgb(9, 111, 245)',
        data: [[10,125]]
    }]
});
}


}
</script>

<br>
<br>
<br>
<br>

     <footer >
            <a></a><a></a>
            <p></p>
            <p></p>
            <p></p>   

            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
                        <div><p style="text-align: center;">© {{ getanio }} Copyright: Wladimir Guallichico Moposita - Jefferson Eduardo Castro Orosco </p></div>
      
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">    <p style="text-align: right;"> <img  src="/assets/img/logo-universidad.png" height="40px"></p> </div>
  
                </div>
            </div>


        </footer>
       
        
    </body>

  
</html>